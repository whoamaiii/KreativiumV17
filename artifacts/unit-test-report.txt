
> vite_react_shadcn_ts@0.1.0 test
> vitest


 DEV  v3.2.4 /Users/quentinthiessen/Documents/kreativiumbeta2

 ✓ tests/unit/visualSnapshot.test.tsx (6 tests) 31ms
stdout | tests/unit/dataTransformations.test.ts
[2025-08-13T12:49:58.061Z] [INFO] Successfully migrated to version 1

 ✓ tests/unit/interactiveFeatures.test.tsx (8 tests) 50ms
 ✓ tests/unit/dataTransformations.test.ts (14 tests) 8ms
 ✓ src/lib/__tests__/analytics-behavior.spec.ts (5 tests) 3ms
stdout | src/lib/dataStorage.test.ts
[2025-08-13T12:49:58.529Z] [INFO] Successfully migrated to version 1

 ✓ src/lib/dataStorage.test.ts (5 tests) 3ms
stdout | src/lib/alertSystem.test.ts
[2025-08-13T12:49:58.563Z] [INFO] Successfully migrated to version 1

 ✓ src/lib/alertSystem.test.ts (4 tests) 3ms
stdout | src/hooks/useAnalyticsWorker.test.ts > useAnalyticsWorker > should initialize with default values
[2025-08-13T12:49:58.740Z] [INFO] [useAnalyticsWorker] Analytics worker initialized successfully

stdout | src/hooks/useAnalyticsWorker.test.ts > useAnalyticsWorker > should initialize with default values
[2025-08-13T12:49:58.741Z] [DEBUG] [useAnalyticsWorker] Terminating analytics worker

stdout | src/hooks/useAnalyticsWorker.test.ts > useAnalyticsWorker > should call postMessage with the correct data when runAnalysis is called
[2025-08-13T12:49:58.743Z] [INFO] [useAnalyticsWorker] Analytics worker initialized successfully
[2025-08-13T12:49:58.744Z] [DEBUG] [useAnalyticsWorker] posting to worker (runAnalysis) {
  hasConfig: [33mtrue[39m,
  cacheKey: [32m'analytics:dataPoints:0:fingerprint:"7a574f23b2564779"'[39m
}
[2025-08-13T12:49:58.744Z] [DEBUG] [WORKER_MESSAGE] Sending message to analytics worker {
  cacheKey: [32m'analytics:dataPoints:0:fingerprint:"7a574f23b2564779"'[39m,
  dataSize: [33m1427[39m,
  emotionsCount: [33m0[39m,
  sensoryInputsCount: [33m0[39m,
  entriesCount: [33m0[39m
}

stdout | src/hooks/useAnalyticsWorker.test.ts > useAnalyticsWorker > should call postMessage with the correct data when runAnalysis is called
[2025-08-13T12:49:58.745Z] [DEBUG] [useAnalyticsWorker] Terminating analytics worker

stdout | src/hooks/useAnalyticsWorker.test.ts > useAnalyticsWorker > should update state on successful analysis
[2025-08-13T12:49:58.746Z] [INFO] [useAnalyticsWorker] Analytics worker initialized successfully

stdout | src/hooks/useAnalyticsWorker.test.ts > useAnalyticsWorker > should update state on successful analysis
[2025-08-13T12:49:58.747Z] [DEBUG] [useAnalyticsWorker] Received complete results from worker {
  cacheKey: [90mundefined[39m,
  patternsCount: [33m0[39m,
  insightsCount: [33m0[39m,
  chartsUpdated: [90mundefined[39m
}

stdout | src/hooks/useAnalyticsWorker.test.ts > useAnalyticsWorker > should update state on successful analysis
[2025-08-13T12:49:58.747Z] [DEBUG] [useAnalyticsWorker] Terminating analytics worker
[2025-08-13T12:49:58.748Z] [INFO] [useAnalyticsWorker] Analytics worker initialized successfully

stdout | src/hooks/useAnalyticsWorker.test.ts > useAnalyticsWorker > should update state on successful analysis
[2025-08-13T12:49:58.748Z] [DEBUG] [useAnalyticsWorker] Terminating analytics worker

stdout | src/hooks/useAnalyticsWorker.test.ts > useAnalyticsWorker > should update state on analysis error
[2025-08-13T12:49:58.749Z] [INFO] [useAnalyticsWorker] Analytics worker initialized successfully

stderr | src/hooks/useAnalyticsWorker.test.ts > useAnalyticsWorker > should update state on analysis error
[2025-08-13T12:49:58.749Z] [ERROR] [useAnalyticsWorker] Worker error { message: [32m'Test Error'[39m }

stdout | src/hooks/useAnalyticsWorker.test.ts > useAnalyticsWorker > should update state on analysis error
[2025-08-13T12:49:58.749Z] [DEBUG] [useAnalyticsWorker] Terminating analytics worker
[2025-08-13T12:49:58.749Z] [INFO] [useAnalyticsWorker] Analytics worker initialized successfully

stdout | src/hooks/useAnalyticsWorker.test.ts > useAnalyticsWorker > should update state on analysis error
[2025-08-13T12:49:58.751Z] [DEBUG] [useAnalyticsWorker] Terminating analytics worker

stdout | src/hooks/useAnalyticsWorker.test.ts > useAnalyticsWorker > should terminate the worker on unmount
[2025-08-13T12:49:58.753Z] [INFO] [useAnalyticsWorker] Analytics worker initialized successfully
[2025-08-13T12:49:58.753Z] [DEBUG] [useAnalyticsWorker] Terminating analytics worker

 ✓ src/hooks/useAnalyticsWorker.test.ts (5 tests) 25ms
 ✓ src/components/InteractiveDataVisualization.test.tsx (6 tests) 839ms
stdout | src/lib/mockDataGenerator.test.ts
[2025-08-13T12:49:58.963Z] [INFO] Successfully migrated to version 1

 ✓ src/lib/mockDataGenerator.test.ts (6 tests) 4ms
 ✓ src/lib/logger.test.ts (6 tests) 4ms
stdout | src/components/EnvironmentalCorrelations.test.tsx
[2025-08-13T12:49:59.146Z] [INFO] Successfully migrated to version 1

stdout | src/components/EnvironmentalCorrelations.test.tsx > EnvironmentalCorrelations > should display environmental correlations correctly in the UI
[2025-08-13T12:49:59.240Z] [DEBUG] [AnalyticsDashboard] Active tab changed { activeTab: [32m'visualizations'[39m }

stdout | src/components/EnvironmentalCorrelations.test.tsx > EnvironmentalCorrelations > should maintain acceptable performance with larger datasets
[2025-08-13T12:49:59.274Z] [DEBUG] [AnalyticsDashboard] Active tab changed { activeTab: [32m'visualizations'[39m }

stdout | src/components/EnvironmentalCorrelations.test.tsx > EnvironmentalCorrelations > should maintain acceptable performance with larger datasets
Performance test duration: 26.019457999999986ms

 ✓ src/components/EnvironmentalCorrelations.test.tsx (3 tests) 90ms
 ✓ src/lib/__tests__/chartkit.spec.ts (4 tests) 3ms
stdout | tests/unit/dataTransformations.performance.test.ts
[2025-08-13T12:49:59.430Z] [INFO] Successfully migrated to version 1

 ✓ src/lib/dataValidation.test.ts (8 tests) 4ms
 ✓ tests/unit/dataTransformations.performance.test.ts (3 tests) 175ms
 ✓ src/lib/analyticsConfig.test.ts (5 tests) 5ms
stdout | src/components/AnalyticsDashboard.test.tsx
[2025-08-13T12:49:59.776Z] [INFO] Successfully migrated to version 1

stdout | src/workers/analytics.worker.test.ts > analytics.worker > should handle ANALYZE message
[2025-08-13T12:49:59.813Z] [DEBUG] [analytics.worker] onmessage {
  hasConfig: [33mfalse[39m,
  cacheKey: [1mnull[22m,
  entries: [33m1[39m,
  emotions: [33m0[39m,
  sensory: [33m0[39m
}

 ✓ src/workers/analytics.worker.test.ts (2 tests) 9ms
stderr | src/components/AnalyticsDashboard.test.tsx > AnalyticsDashboard > should render the dashboard with loading state
[2025-08-13T12:49:59.830Z] [ERROR] Application error {
  type: [32m'UNKNOWN_ERROR'[39m,
  code: [90mundefined[39m,
  message: [32m"Cannot read properties of undefined (reading 'id')"[39m,
  details: {
    originalError: TypeError: Cannot read properties of undefined (reading 'id')
        at prevProps.student.id.nextProps.student.id.prevProps.student.name.nextProps.student.name.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevProps.filteredData.emotions.length.nextProps.filteredData.emotions.length.prevProps.filteredData.sensoryInputs.length.nextProps.filteredData.sensoryInputs.length.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevTimestamp [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39msrc/components/AnalyticsDashboard.tsx:123:15[90m)[39m
        at renderWithHooks [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:15486:18[90m)[39m
        at mountIndeterminateComponent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:20103:13[90m)[39m
        at beginWork [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:21626:16[90m)[39m
        at HTMLUnknownElement.callCallback [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:4164:14[90m)[39m
        at HTMLUnknownElement.callTheUserObjectsOperation [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/generated/EventListener.js:26:30[90m)[39m
        at innerInvokeEventListeners [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:350:25[90m)[39m
        at invokeEventListeners [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:286:3[90m)[39m
        at HTMLUnknownElementImpl._dispatch [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:233:9[90m)[39m
        at HTMLUnknownElementImpl.dispatchEvent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:104:17[90m)[39m
  },
  timestamp: [35m2025-08-13T12:49:59.830Z[39m,
  recoverable: [33mtrue[39m,
  stack: [32m"SensoryCompassError: Cannot read properties of undefined (reading 'id')\n"[39m +
    [32m'    at ErrorHandler.normalizeError (/Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:122:14)\n'[39m +
    [32m'    at ErrorHandler.handle (/Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:73:27)\n'[39m +
    [32m'    at /Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:50:12\n'[39m +
    [32m'    at callTheUserObjectsOperation (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n'[39m +
    [32m'    at innerInvokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n'[39m +
    [32m'    at invokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n'[39m +
    [32m'    at EventTargetImpl._dispatch (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n'[39m +
    [32m'    at reportAnError (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:35:12)\n'[39m +
    [32m'    at reportException (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:62:19)\n'[39m +
    [32m'    at innerInvokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)'[39m
}
[2025-08-13T12:49:59.834Z] [ERROR] Application error {
  type: [32m'UNKNOWN_ERROR'[39m,
  code: [90mundefined[39m,
  message: [32m"Cannot read properties of undefined (reading 'id')"[39m,
  details: {
    originalError: TypeError: Cannot read properties of undefined (reading 'id')
        at prevProps.student.id.nextProps.student.id.prevProps.student.name.nextProps.student.name.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevProps.filteredData.emotions.length.nextProps.filteredData.emotions.length.prevProps.filteredData.sensoryInputs.length.nextProps.filteredData.sensoryInputs.length.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevTimestamp [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39msrc/components/AnalyticsDashboard.tsx:123:15[90m)[39m
        at renderWithHooks [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:15486:18[90m)[39m
        at mountIndeterminateComponent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:20103:13[90m)[39m
        at beginWork [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:21626:16[90m)[39m
        at HTMLUnknownElement.callCallback [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:4164:14[90m)[39m
        at HTMLUnknownElement.callTheUserObjectsOperation [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/generated/EventListener.js:26:30[90m)[39m
        at innerInvokeEventListeners [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:350:25[90m)[39m
        at invokeEventListeners [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:286:3[90m)[39m
        at HTMLUnknownElementImpl._dispatch [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:233:9[90m)[39m
        at HTMLUnknownElementImpl.dispatchEvent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:104:17[90m)[39m
  },
  timestamp: [35m2025-08-13T12:49:59.834Z[39m,
  recoverable: [33mtrue[39m,
  stack: [32m"SensoryCompassError: Cannot read properties of undefined (reading 'id')\n"[39m +
    [32m'    at ErrorHandler.normalizeError (/Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:122:14)\n'[39m +
    [32m'    at ErrorHandler.handle (/Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:73:27)\n'[39m +
    [32m'    at /Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:50:12\n'[39m +
    [32m'    at callTheUserObjectsOperation (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n'[39m +
    [32m'    at innerInvokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n'[39m +
    [32m'    at invokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n'[39m +
    [32m'    at EventTargetImpl._dispatch (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n'[39m +
    [32m'    at reportAnError (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:35:12)\n'[39m +
    [32m'    at reportException (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:62:19)\n'[39m +
    [32m'    at innerInvokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)'[39m
}
TypeError: Cannot read properties of undefined (reading 'id')
    at prevProps.student.id.nextProps.student.id.prevProps.student.name.nextProps.student.name.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevProps.filteredData.emotions.length.nextProps.filteredData.emotions.length.prevProps.filteredData.sensoryInputs.length.nextProps.filteredData.sensoryInputs.length.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevTimestamp [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39msrc/components/AnalyticsDashboard.tsx:123:15[90m)[39m
    at renderWithHooks [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:15486:18[90m)[39m
    at mountIndeterminateComponent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:20103:13[90m)[39m
    at beginWork [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:21626:16[90m)[39m
    at beginWork$1 [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:27465:14[90m)[39m
    at performUnitOfWork [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:26599:12[90m)[39m
    at workLoopSync [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:26505:5[90m)[39m
    at renderRootSync [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:26473:7[90m)[39m
    at recoverFromConcurrentError [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:25889:20[90m)[39m
    at performConcurrentWorkOnRoot [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:25789:22[90m)[39m {
  _suppressLogging: [33mtrue[39m
}
The above error occurred in one of your React components:

    at prevProps.student.id.nextProps.student.id.prevProps.student.name.nextProps.student.name.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevProps.filteredData.emotions.length.nextProps.filteredData.emotions.length.prevProps.filteredData.sensoryInputs.length.nextProps.filteredData.sensoryInputs.length.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevTimestamp (/Users/quentinthiessen/Documents/kreativiumbeta2/src/components/AnalyticsDashboard.tsx:49:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/components/AnalyticsDashboard.test.tsx > AnalyticsDashboard > should render the dashboard with results
[2025-08-13T12:49:59.838Z] [ERROR] Application error {
  type: [32m'UNKNOWN_ERROR'[39m,
  code: [90mundefined[39m,
  message: [32m"Cannot read properties of undefined (reading 'id')"[39m,
  details: {
    originalError: TypeError: Cannot read properties of undefined (reading 'id')
        at prevProps.student.id.nextProps.student.id.prevProps.student.name.nextProps.student.name.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevProps.filteredData.emotions.length.nextProps.filteredData.emotions.length.prevProps.filteredData.sensoryInputs.length.nextProps.filteredData.sensoryInputs.length.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevTimestamp [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39msrc/components/AnalyticsDashboard.tsx:123:15[90m)[39m
        at renderWithHooks [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:15486:18[90m)[39m
        at mountIndeterminateComponent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:20103:13[90m)[39m
        at beginWork [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:21626:16[90m)[39m
        at HTMLUnknownElement.callCallback [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:4164:14[90m)[39m
        at HTMLUnknownElement.callTheUserObjectsOperation [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/generated/EventListener.js:26:30[90m)[39m
        at innerInvokeEventListeners [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:350:25[90m)[39m
        at invokeEventListeners [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:286:3[90m)[39m
        at HTMLUnknownElementImpl._dispatch [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:233:9[90m)[39m
        at HTMLUnknownElementImpl.dispatchEvent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:104:17[90m)[39m
  },
  timestamp: [35m2025-08-13T12:49:59.838Z[39m,
  recoverable: [33mtrue[39m,
  stack: [32m"SensoryCompassError: Cannot read properties of undefined (reading 'id')\n"[39m +
    [32m'    at ErrorHandler.normalizeError (/Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:122:14)\n'[39m +
    [32m'    at ErrorHandler.handle (/Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:73:27)\n'[39m +
    [32m'    at /Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:50:12\n'[39m +
    [32m'    at callTheUserObjectsOperation (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n'[39m +
    [32m'    at innerInvokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n'[39m +
    [32m'    at invokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n'[39m +
    [32m'    at EventTargetImpl._dispatch (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n'[39m +
    [32m'    at reportAnError (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:35:12)\n'[39m +
    [32m'    at reportException (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:62:19)\n'[39m +
    [32m'    at innerInvokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)'[39m
}
[2025-08-13T12:49:59.839Z] [ERROR] Application error {
  type: [32m'UNKNOWN_ERROR'[39m,
  code: [90mundefined[39m,
  message: [32m"Cannot read properties of undefined (reading 'id')"[39m,
  details: {
    originalError: TypeError: Cannot read properties of undefined (reading 'id')
        at prevProps.student.id.nextProps.student.id.prevProps.student.name.nextProps.student.name.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevProps.filteredData.emotions.length.nextProps.filteredData.emotions.length.prevProps.filteredData.sensoryInputs.length.nextProps.filteredData.sensoryInputs.length.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevTimestamp [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39msrc/components/AnalyticsDashboard.tsx:123:15[90m)[39m
        at renderWithHooks [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:15486:18[90m)[39m
        at mountIndeterminateComponent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:20103:13[90m)[39m
        at beginWork [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:21626:16[90m)[39m
        at HTMLUnknownElement.callCallback [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:4164:14[90m)[39m
        at HTMLUnknownElement.callTheUserObjectsOperation [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/generated/EventListener.js:26:30[90m)[39m
        at innerInvokeEventListeners [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:350:25[90m)[39m
        at invokeEventListeners [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:286:3[90m)[39m
        at HTMLUnknownElementImpl._dispatch [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:233:9[90m)[39m
        at HTMLUnknownElementImpl.dispatchEvent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:104:17[90m)[39m
  },
  timestamp: [35m2025-08-13T12:49:59.839Z[39m,
  recoverable: [33mtrue[39m,
  stack: [32m"SensoryCompassError: Cannot read properties of undefined (reading 'id')\n"[39m +
    [32m'    at ErrorHandler.normalizeError (/Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:122:14)\n'[39m +
    [32m'    at ErrorHandler.handle (/Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:73:27)\n'[39m +
    [32m'    at /Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:50:12\n'[39m +
    [32m'    at callTheUserObjectsOperation (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n'[39m +
    [32m'    at innerInvokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n'[39m +
    [32m'    at invokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n'[39m +
    [32m'    at EventTargetImpl._dispatch (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n'[39m +
    [32m'    at reportAnError (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:35:12)\n'[39m +
    [32m'    at reportException (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:62:19)\n'[39m +
    [32m'    at innerInvokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)'[39m
}
TypeError: Cannot read properties of undefined (reading 'id')
    at prevProps.student.id.nextProps.student.id.prevProps.student.name.nextProps.student.name.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevProps.filteredData.emotions.length.nextProps.filteredData.emotions.length.prevProps.filteredData.sensoryInputs.length.nextProps.filteredData.sensoryInputs.length.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevTimestamp [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39msrc/components/AnalyticsDashboard.tsx:123:15[90m)[39m
    at renderWithHooks [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:15486:18[90m)[39m
    at mountIndeterminateComponent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:20103:13[90m)[39m
    at beginWork [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:21626:16[90m)[39m
    at beginWork$1 [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:27465:14[90m)[39m
    at performUnitOfWork [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:26599:12[90m)[39m
    at workLoopSync [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:26505:5[90m)[39m
    at renderRootSync [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:26473:7[90m)[39m
    at recoverFromConcurrentError [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:25889:20[90m)[39m
    at performConcurrentWorkOnRoot [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:25789:22[90m)[39m {
  _suppressLogging: [33mtrue[39m
}
The above error occurred in one of your React components:

    at prevProps.student.id.nextProps.student.id.prevProps.student.name.nextProps.student.name.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevProps.filteredData.emotions.length.nextProps.filteredData.emotions.length.prevProps.filteredData.sensoryInputs.length.nextProps.filteredData.sensoryInputs.length.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevTimestamp (/Users/quentinthiessen/Documents/kreativiumbeta2/src/components/AnalyticsDashboard.tsx:49:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/components/AnalyticsDashboard.test.tsx > AnalyticsDashboard > should call runAnalysis on mount with filtered data
[2025-08-13T12:49:59.842Z] [ERROR] Application error {
  type: [32m'UNKNOWN_ERROR'[39m,
  code: [90mundefined[39m,
  message: [32m"Cannot read properties of undefined (reading 'id')"[39m,
  details: {
    originalError: TypeError: Cannot read properties of undefined (reading 'id')
        at prevProps.student.id.nextProps.student.id.prevProps.student.name.nextProps.student.name.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevProps.filteredData.emotions.length.nextProps.filteredData.emotions.length.prevProps.filteredData.sensoryInputs.length.nextProps.filteredData.sensoryInputs.length.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevTimestamp [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39msrc/components/AnalyticsDashboard.tsx:123:15[90m)[39m
        at renderWithHooks [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:15486:18[90m)[39m
        at mountIndeterminateComponent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:20103:13[90m)[39m
        at beginWork [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:21626:16[90m)[39m
        at HTMLUnknownElement.callCallback [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:4164:14[90m)[39m
        at HTMLUnknownElement.callTheUserObjectsOperation [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/generated/EventListener.js:26:30[90m)[39m
        at innerInvokeEventListeners [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:350:25[90m)[39m
        at invokeEventListeners [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:286:3[90m)[39m
        at HTMLUnknownElementImpl._dispatch [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:233:9[90m)[39m
        at HTMLUnknownElementImpl.dispatchEvent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:104:17[90m)[39m
  },
  timestamp: [35m2025-08-13T12:49:59.842Z[39m,
  recoverable: [33mtrue[39m,
  stack: [32m"SensoryCompassError: Cannot read properties of undefined (reading 'id')\n"[39m +
    [32m'    at ErrorHandler.normalizeError (/Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:122:14)\n'[39m +
    [32m'    at ErrorHandler.handle (/Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:73:27)\n'[39m +
    [32m'    at /Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:50:12\n'[39m +
    [32m'    at callTheUserObjectsOperation (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n'[39m +
    [32m'    at innerInvokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n'[39m +
    [32m'    at invokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n'[39m +
    [32m'    at EventTargetImpl._dispatch (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n'[39m +
    [32m'    at reportAnError (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:35:12)\n'[39m +
    [32m'    at reportException (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:62:19)\n'[39m +
    [32m'    at innerInvokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)'[39m
}
[2025-08-13T12:49:59.844Z] [ERROR] Application error {
  type: [32m'UNKNOWN_ERROR'[39m,
  code: [90mundefined[39m,
  message: [32m"Cannot read properties of undefined (reading 'id')"[39m,
  details: {
    originalError: TypeError: Cannot read properties of undefined (reading 'id')
        at prevProps.student.id.nextProps.student.id.prevProps.student.name.nextProps.student.name.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevProps.filteredData.emotions.length.nextProps.filteredData.emotions.length.prevProps.filteredData.sensoryInputs.length.nextProps.filteredData.sensoryInputs.length.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevTimestamp [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39msrc/components/AnalyticsDashboard.tsx:123:15[90m)[39m
        at renderWithHooks [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:15486:18[90m)[39m
        at mountIndeterminateComponent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:20103:13[90m)[39m
        at beginWork [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:21626:16[90m)[39m
        at HTMLUnknownElement.callCallback [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:4164:14[90m)[39m
        at HTMLUnknownElement.callTheUserObjectsOperation [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/generated/EventListener.js:26:30[90m)[39m
        at innerInvokeEventListeners [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:350:25[90m)[39m
        at invokeEventListeners [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:286:3[90m)[39m
        at HTMLUnknownElementImpl._dispatch [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:233:9[90m)[39m
        at HTMLUnknownElementImpl.dispatchEvent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mjsdom[24m/lib/jsdom/living/events/EventTarget-impl.js:104:17[90m)[39m
  },
  timestamp: [35m2025-08-13T12:49:59.844Z[39m,
  recoverable: [33mtrue[39m,
  stack: [32m"SensoryCompassError: Cannot read properties of undefined (reading 'id')\n"[39m +
    [32m'    at ErrorHandler.normalizeError (/Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:122:14)\n'[39m +
    [32m'    at ErrorHandler.handle (/Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:73:27)\n'[39m +
    [32m'    at /Users/quentinthiessen/Documents/kreativiumbeta2/src/lib/errorHandler.ts:50:12\n'[39m +
    [32m'    at callTheUserObjectsOperation (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n'[39m +
    [32m'    at innerInvokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n'[39m +
    [32m'    at invokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n'[39m +
    [32m'    at EventTargetImpl._dispatch (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n'[39m +
    [32m'    at reportAnError (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:35:12)\n'[39m +
    [32m'    at reportException (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:62:19)\n'[39m +
    [32m'    at innerInvokeEventListeners (/Users/quentinthiessen/Documents/kreativiumbeta2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)'[39m
}
TypeError: Cannot read properties of undefined (reading 'id')
    at prevProps.student.id.nextProps.student.id.prevProps.student.name.nextProps.student.name.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevProps.filteredData.emotions.length.nextProps.filteredData.emotions.length.prevProps.filteredData.sensoryInputs.length.nextProps.filteredData.sensoryInputs.length.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevTimestamp [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39msrc/components/AnalyticsDashboard.tsx:123:15[90m)[39m
    at renderWithHooks [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:15486:18[90m)[39m
    at mountIndeterminateComponent [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:20103:13[90m)[39m
    at beginWork [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:21626:16[90m)[39m
    at beginWork$1 [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:27465:14[90m)[39m
    at performUnitOfWork [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:26599:12[90m)[39m
    at workLoopSync [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:26505:5[90m)[39m
    at renderRootSync [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:26473:7[90m)[39m
    at recoverFromConcurrentError [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:25889:20[90m)[39m
    at performConcurrentWorkOnRoot [90m(/Users/quentinthiessen/Documents/kreativiumbeta2/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:25789:22[90m)[39m {
  _suppressLogging: [33mtrue[39m
}
The above error occurred in one of your React components:

    at prevProps.student.id.nextProps.student.id.prevProps.student.name.nextProps.student.name.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevProps.filteredData.emotions.length.nextProps.filteredData.emotions.length.prevProps.filteredData.sensoryInputs.length.nextProps.filteredData.sensoryInputs.length.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevTimestamp (/Users/quentinthiessen/Documents/kreativiumbeta2/src/components/AnalyticsDashboard.tsx:49:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 ❯ src/components/AnalyticsDashboard.test.tsx (3 tests | 3 failed) 27ms
   × AnalyticsDashboard > should render the dashboard with loading state 17ms
     → Cannot read properties of undefined (reading 'id')
   × AnalyticsDashboard > should render the dashboard with results 4ms
     → Cannot read properties of undefined (reading 'id')
   × AnalyticsDashboard > should call runAnalysis on mount with filtered data 5ms
     → Cannot read properties of undefined (reading 'id')
 ✓ src/hooks/useAnalyticsWorker.fallback.test.ts (1 test) 11ms
 ✓ src/lib/testing/biasTester.test.ts (1 test) 2ms
 ✓ src/lib/uuid.test.ts (7 tests) 2ms
 ✓ src/lib/formValidation.test.ts (6 tests) 3ms
 ✓ src/lib/testing/performanceTester.test.ts (1 test) 1ms
 ✓ tests/unit/analyticsWorkerFallback.test.ts (1 test) 6ms

⎯⎯⎯⎯⎯⎯⎯ Failed Tests 3 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/components/AnalyticsDashboard.test.tsx > AnalyticsDashboard > should render the dashboard with loading state
 FAIL  src/components/AnalyticsDashboard.test.tsx > AnalyticsDashboard > should render the dashboard with results
 FAIL  src/components/AnalyticsDashboard.test.tsx > AnalyticsDashboard > should call runAnalysis on mount with filtered data
TypeError: Cannot read properties of undefined (reading 'id')
 ❯ prevProps.student.id.nextProps.student.id.prevProps.student.name.nextProps.student.name.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevProps.filteredData.emotions.length.nextProps.filteredData.emotions.length.prevProps.filteredData.sensoryInputs.length.nextProps.filteredData.sensoryInputs.length.prevProps.filteredData.entries.length.nextProps.filteredData.entries.length.prevTimestamp src/components/AnalyticsDashboard.tsx:123:15
    121|     // Ensure student analytics exists for all students, including new…
    122|     analyticsManager.initializeStudentAnalytics(student.id);
    123|   }, [student.id, filteredData, runAnalysis]);
       |               ^
    124| 
    125|   // Cleanup on unmount
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ beginWork$1 node_modules/react-dom/cjs/react-dom.development.js:27465:14
 ❯ performUnitOfWork node_modules/react-dom/cjs/react-dom.development.js:26599:12
 ❯ workLoopSync node_modules/react-dom/cjs/react-dom.development.js:26505:5
 ❯ renderRootSync node_modules/react-dom/cjs/react-dom.development.js:26473:7
 ❯ recoverFromConcurrentError node_modules/react-dom/cjs/react-dom.development.js:25889:20
 ❯ performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:25789:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/3]⎯


 Test Files  1 failed | 22 passed (23)
      Tests  3 failed | 107 passed (110)
   Start at  14:49:57
   Duration  2.96s (transform 611ms, setup 2.24s, collect 2.19s, tests 1.31s, environment 5.06s, prepare 931ms)

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
Cancelling test run. Press CTRL+c again to exit forcefully.


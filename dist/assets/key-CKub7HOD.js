import{b as y,e as j,j as d,c as k,f as F,A as L,g as M,h as f,P as I,u as U,D as W,C as K,i as $}from"./vendor-ui-BGGfvU-n.js";import{a as s}from"./vendor-react-BiKKw5Rc.js";import{a as z}from"./index-p40y1I9K.js";var P,R="HoverCard",[O,ce]=k(R,[y]),x=y(),[B,w]=O(R),E=e=>{const{__scopeHoverCard:t,children:r,open:o,defaultOpen:a,onOpenChange:i,openDelay:u=700,closeDelay:l=300}=e,c=x(t),h=s.useRef(0),p=s.useRef(0),C=s.useRef(!1),v=s.useRef(!1),[m=!1,n]=j({prop:o,defaultProp:a,onChange:i}),g=s.useCallback(()=>{clearTimeout(p.current),h.current=window.setTimeout(()=>n(!0),u)},[u,n]),_=s.useCallback(()=>{clearTimeout(h.current),!C.current&&!v.current&&(p.current=window.setTimeout(()=>n(!1),l))},[l,n]),A=s.useCallback(()=>n(!1),[n]);return s.useEffect(()=>()=>{clearTimeout(h.current),clearTimeout(p.current)},[]),d.jsx(B,{scope:t,open:m,onOpenChange:n,onOpen:g,onClose:_,onDismiss:A,hasSelectionRef:C,isPointerDownOnContentRef:v,children:d.jsx(F,{...c,children:r})})};E.displayName=R;var T="HoverCardTrigger",H=s.forwardRef((e,t)=>{const{__scopeHoverCard:r,...o}=e,a=w(T,r),i=x(r);return d.jsx(L,{asChild:!0,...i,children:d.jsx(M.a,{"data-state":a.open?"open":"closed",...o,ref:t,onPointerEnter:f(e.onPointerEnter,b(a.onOpen)),onPointerLeave:f(e.onPointerLeave,b(a.onClose)),onFocus:f(e.onFocus,a.onOpen),onBlur:f(e.onBlur,a.onClose),onTouchStart:f(e.onTouchStart,u=>u.preventDefault())})})});H.displayName=T;var G="HoverCardPortal",[de,J]=O(G,{forceMount:void 0}),S="HoverCardContent",N=s.forwardRef((e,t)=>{const r=J(S,e.__scopeHoverCard),{forceMount:o=r.forceMount,...a}=e,i=w(S,e.__scopeHoverCard);return d.jsx(I,{present:o||i.open,children:d.jsx(V,{"data-state":i.open?"open":"closed",...a,onPointerEnter:f(e.onPointerEnter,b(i.onOpen)),onPointerLeave:f(e.onPointerLeave,b(i.onClose)),ref:t})})});N.displayName=S;var V=s.forwardRef((e,t)=>{const{__scopeHoverCard:r,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:u,...l}=e,c=w(S,r),h=x(r),p=s.useRef(null),C=U(t,p),[v,m]=s.useState(!1);return s.useEffect(()=>{if(v){const n=document.body;return P=n.style.userSelect||n.style.webkitUserSelect,n.style.userSelect="none",n.style.webkitUserSelect="none",()=>{n.style.userSelect=P,n.style.webkitUserSelect=P}}},[v]),s.useEffect(()=>{if(p.current){const n=()=>{m(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",n),()=>{document.removeEventListener("pointerup",n),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),s.useEffect(()=>{p.current&&X(p.current).forEach(g=>g.setAttribute("tabindex","-1"))}),d.jsx(W,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f(i,n=>{n.preventDefault()}),onDismiss:c.onDismiss,children:d.jsx(K,{...h,...l,onPointerDown:f(l.onPointerDown,n=>{n.currentTarget.contains(n.target)&&m(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:C,style:{...l.style,userSelect:v?"text":void 0,WebkitUserSelect:v?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),q="HoverCardArrow",Q=s.forwardRef((e,t)=>{const{__scopeHoverCard:r,...o}=e,a=x(r);return d.jsx($,{...a,...o,ref:t})});Q.displayName=q;function b(e){return t=>t.pointerType==="touch"?void 0:e()}function X(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)t.push(r.currentNode);return t}var Y=E,Z=H,D=N;const ue=Y,le=Z,ee=s.forwardRef(({className:e,align:t="center",sideOffset:r=4,...o},a)=>d.jsx(D,{ref:a,align:t,sideOffset:r,className:z("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o}));ee.displayName=D.displayName;function te(e){const t=new WeakSet,r=o=>{if(o===null||typeof o!="object")return o;if(o instanceof Date)return o.toISOString();if(Array.isArray(o))return o.map(r);if(t.has(o))return"[Circular]";t.add(o);const a=o,i=Object.keys(a).sort(),u={};for(const l of i)u[l]=r(a[l]);return u};return JSON.stringify(r(e))}function re(e){let t=5381;for(let r=0;r<e.length;r++)t=(t<<5)+t^e.charCodeAt(r),t|=0;return(t>>>0).toString(16)}function oe(e){return re(te(e))}function ne(e){return e&&(typeof e.id=="string"||typeof e.id=="number")?String(e.id):oe(e)}function fe(e){return ne(e)}export{ue as H,le as a,ee as b,re as h,fe as s};

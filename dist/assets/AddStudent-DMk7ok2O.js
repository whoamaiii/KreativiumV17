import{j as e}from"./vendor-ui-BGGfvU-n.js";import{a as s,u as N}from"./vendor-react-BiKKw5Rc.js";import{c as k,u as C,B as l,C as w,d as T,e as D,b as B,J as c}from"./index-p40y1I9K.js";import{I as m}from"./input-Gpuq0ah-.js";import{T as L}from"./textarea-2v1IUrdg.js";import{L as A}from"./LanguageSettings-DP-p1Cso.js";import{a as I}from"./analyticsManager-D5rdgc0M.js";import{d as E}from"./dataStorage-ZXqbZ8jG.js";import{l as O}from"./logger-Bi5o39IC.js";import{A as U}from"./arrow-left-DTqb6Oho.js";import"./3d-DUDogAyU.js";import"./vendor-utils-BNQKEpbf.js";import"./i18n-DNqVcHxj.js";import"./dropdown-menu-7gruBPiX.js";import"./check-JkTn6zF0.js";import"./analyticsConfig-Di1mAdDI.js";import"./enhancedPatternAnalysis-BSzs8ls5.js";import"./ml-BTt1mEdE.js";import"./storageUtils-DyonkL-b.js";/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=k("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),te=()=>{const[d,b]=s.useState(""),[u,p]=s.useState(""),[g,S]=s.useState(""),[x,j]=s.useState(""),[i,f]=s.useState(!1),o=N(),{tStudent:t,tCommon:n}=C(),y=async a=>{if(a.preventDefault(),!d.trim()){c.error(String(t("addStudent.form.name.required")));return}f(!0);try{const r={id:crypto.randomUUID(),name:d.trim(),grade:u.trim()||void 0,dateOfBirth:g||void 0,notes:x.trim()||void 0,createdAt:new Date};E.saveStudent(r),I.initializeStudentAnalytics(r.id),c.success(String(t("addStudent.success"))),o("/")}catch(r){O.error("Error adding student:",r);const v=r instanceof Error?r.message:"Failed to add student. Please try again.";c.error(v)}finally{f(!1)}};return e.jsx("div",{className:"min-h-screen bg-background font-dyslexia",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(l,{variant:"ghost","aria-label":String(t("addStudent.backToDashboard")),title:String(t("addStudent.backToDashboard")),onClick:()=>o("/"),className:"font-dyslexia",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:String(t("addStudent.backToDashboard"))})]}),e.jsx(A,{})]}),e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:String(t("addStudent.title"))}),e.jsx("p",{className:"text-muted-foreground",children:String(t("addStudent.description"))})]}),e.jsxs(w,{className:"bg-gradient-card border-0 shadow-medium",children:[e.jsx(T,{children:e.jsxs(D,{className:"flex items-center gap-2 text-foreground",children:[e.jsx(h,{className:"h-5 w-5"}),String(t("profile.information"))]})}),e.jsx(B,{children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:[String(t("addStudent.form.name.label"))," *"]}),e.jsx(m,{type:"text",value:d,onChange:a=>b(a.target.value),placeholder:String(t("addStudent.form.name.placeholder")),className:"font-dyslexia bg-input border-border focus:ring-ring",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:String(t("addStudent.form.grade.label"))}),e.jsx(m,{type:"text",value:u,onChange:a=>p(a.target.value),placeholder:String(t("addStudent.form.grade.placeholder")),className:"font-dyslexia bg-input border-border focus:ring-ring"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:String(t("addStudent.form.dateOfBirth.label"))}),e.jsx(m,{type:"date",value:g,onChange:a=>S(a.target.value),className:"font-dyslexia bg-input border-border focus:ring-ring"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:String(t("addStudent.form.notes.label"))}),e.jsx(L,{value:x,onChange:a=>j(a.target.value),placeholder:String(t("addStudent.form.notes.placeholder")),className:"font-dyslexia bg-input border-border focus:ring-ring",rows:4})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(l,{type:"button",variant:"ghost",onClick:()=>o("/"),className:"flex-1 font-dyslexia",disabled:i,children:String(n("buttons.cancel"))}),e.jsx(l,{type:"submit",className:"flex-1 font-dyslexia bg-gradient-primary hover:opacity-90 transition-all duration-200",disabled:i,children:i?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),String(n("status.saving"))]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),String(n("buttons.add"))," ",String(n("navigation.students")).slice(0,-1)]})})]})]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-accent/50 rounded-lg border border-accent",children:[e.jsx("h3",{className:"font-medium text-accent-foreground mb-2",children:String(t("addStudent.helpText"))}),e.jsx("p",{className:"text-sm text-accent-foreground/80",children:String(t("addStudent.helpText"))})]})]})})};export{te as default};
